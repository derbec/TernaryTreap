<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, height=device-height, initial-scale=1, user-scalable=no">
  <meta name="generator" content="made with love by dartdoc 0.29.0">
  <meta name="description" content="ternarytreap API docs, for the Dart programming language.">
  <title>ternarytreap - Dart API docs</title>

  <link href="https://fonts.googleapis.com/css?family=Source+Code+Pro:500,400i,400,300|Source+Sans+Pro:400,300,700" rel="stylesheet">
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  <link rel="stylesheet" href="static-assets/github.css">
  <link rel="stylesheet" href="static-assets/styles.css">
  <link rel="icon" href="static-assets/favicon.png">
  <!-- header placeholder -->
</head>

<body>

<div id="overlay-under-drawer"></div>

<header id="title">
  <button id="sidenav-left-toggle" type="button">&nbsp;</button>
  <ol class="breadcrumbs gt-separated dark hidden-xs">
    <li><a href="https://github.com/derbec/ternarytreap">ternarytreap package</a></li>
  </ol>
  <div class="self-name">ternarytreap</div>
  <form class="search navbar-right" role="search">
    <input type="text" id="search-box" autocomplete="off" disabled class="form-control typeahead" placeholder="Loading search...">
  </form>
</header>

<main>

  <div id="dartdoc-sidebar-left" class="col-xs-6 col-sm-3 col-md-2 sidebar sidebar-offcanvas-left">
    <header id="header-search-sidebar" class="hidden-l">
      <form class="search-sidebar" role="search">
        <input type="text" id="search-sidebar" autocomplete="off" disabled class="form-control typeahead" placeholder="Loading search...">
      </form>
    </header>
    
    <ol class="breadcrumbs gt-separated dark hidden-l" id="sidebar-nav">
      <li><a href="https://github.com/derbec/ternarytreap">ternarytreap package</a></li>
    </ol>
    
    <h5 class="hidden-xs"><span class="package-name">ternarytreap</span> <span class="package-kind">package</span></h5>
    <ol>
          <li class="section-title">Libraries</li>
          <li><a href="ternarytreap/ternarytreap-library.html">ternarytreap</a></li>
    </ol>
  </div>

  <div id="dartdoc-main-content" class="col-xs-12 col-sm-9 col-md-8 main-content">
      <section class="desc markdown">
        <h1 id="ternarytreap">TernaryTreap</h1>
<p>Self balancing ternary tree designed for:</p>
<ul>
<li>Autocompletion tasks - autocompleting textboxes etc.</li>
<li>Use as a generic, fast and memory efficient collection allowing prefixed based searching.</li>
<li>Includes class PrefixMatcher which suffices for most autocomplete cases.</li>
</ul>
<h1 id="usage">Usage</h1>
<h2 id="tldr">TL;DR</h2>
<p>For simple prefix matching within a set of strings use: <a href="https://pub.dev/documentation/ternarytreap/latest/ternarytreap/PrefixMatcher-class.html">PrefixMatcher</a> with appropriate <a href="https://pub.dev/documentation/ternarytreap/latest/ternarytreap/KeyMapping.html">KeyMapping</a>.</p>
<pre class="language-dart"><code class="language-dart">// PrefixMatcher class is optimised for matching a prefix to a set of input strings.
  final PrefixMatcher matcher = PrefixMatcher(TernaryTreap.lowerCollapse)
    ..addAll(['cat', 'Cat', 'CAT', 'CanaRy', 'CANARY']);
</code></pre>
<pre class="language-dart"><code class="language-dart">print(matcher.match('can'));
</code></pre>
<pre class="language-shell"><code class="language-shell">(CanaRy, CANARY)
</code></pre>
<p>For more complex usage read on.</p>
<h2 id="most-basic-case">Most basic case</h2>
<p>Insert keys and later return those starting with a given prefix.</p>
<p>This is useful for implementing autocompletion text boxes etc.</p>
<pre class="language-dart"><code class="language-dart">void main(List&lt;String&gt; args) {
  final TernaryTreap&lt;String&gt; ternaryTreap = TernaryTreap&lt;String&gt;()
    ..add('cat')
    ..add('Canary')
    ..add('dog')
    ..add('zebra')
    ..add('CAT');
</code></pre>
<pre class="language-dart"><code class="language-dart">print(ternaryTreap.keys);
</code></pre>
<pre class="language-shell"><code class="language-shell">(CAT, Canary, cat, dog, zebra)
</code></pre>
<pre class="language-dart"><code class="language-dart">print(ternaryTreap.keysByPrefix('ca'));
</code></pre>
<pre class="language-shell"><code class="language-shell">(cat)
</code></pre>
<pre class="language-dart"><code class="language-dart">print(ternaryTreap.values.flatten);
</code></pre>
<pre class="language-shell"><code class="language-shell">(CAT, Canary, cat, dog, zebra)
</code></pre>
<pre class="language-dart"><code class="language-dart">print(ternaryTreap.valuesByKeyPrefix('ca').flatten);
</code></pre>
<pre class="language-shell"><code class="language-shell">(cat)
</code></pre>
<pre class="language-dart"><code class="language-dart">print(ternaryTreap.toString());
</code></pre>
<pre class="language-shell"><code class="language-shell">-CAT
 CAT
Canary
Canary
cat
cat
dog
dog
zebra
zebra
</code></pre>
<h2 id="case-insensitivity-and-other-key-mappings">Case insensitivity and other key mappings</h2>
<p>The above example matches strings exactly, i.e. <code>keysByPrefix('ca')</code>
returns 'cat' but not 'CAT'.</p>
<p>To add case insensitivity or other mappings use a <a href="https://pub.dev/documentation/ternarytreap/latest/ternarytreap/KeyMapping.html">KeyMapping</a> when constructing TernaryTree.</p>
<pre class="language-dart"><code class="language-dart">import 'package:ternarytreap/ternarytreap.dart';

void main(List&lt;String&gt; args) {
  final TernaryTreap&lt;String&gt; ternaryTreap =
      TernaryTreap&lt;String&gt;(keyMapping: TernaryTreap.lowercase)
        ..add('cat')
        ..add('Canary')
        ..add('dog')
        ..add('zebra')
        ..add('CAT');
}
</code></pre>
<pre class="language-dart"><code class="language-dart">print(ternaryTreap.keys);
</code></pre>
<pre class="language-shell"><code class="language-shell">(canary, cat, dog, zebra)
</code></pre>
<pre class="language-dart"><code class="language-dart">print(ternaryTreap.keysByPrefix('ca'));
</code></pre>
<pre class="language-shell"><code class="language-shell">(canary, cat)
</code></pre>
<pre class="language-dart"><code class="language-dart">print(ternaryTreap.values.flatten);
</code></pre>
<pre class="language-shell"><code class="language-shell">(canary, cat, dog, zebra)
</code></pre>
<pre class="language-dart"><code class="language-dart">print(ternaryTreap.valuesByKeyPrefix('ca').flatten);
</code></pre>
<pre class="language-shell"><code class="language-shell">(canary, cat)
</code></pre>
<pre class="language-dart"><code class="language-dart">print(ternaryTreap.toString());
</code></pre>
<pre class="language-shell"><code class="language-shell">canary
canary
cat
cat
dog
dog
zebra
zebra
</code></pre>
<p>Some common <code>KeyMapping</code> options are supplied such as:</p>
<ul>
<li><a href="https://pub.dev/documentation/ternarytreap/latest/ternarytreap/TernaryTreap/lowercase.html">lowerCase</a></li>
<li><a href="https://pub.dev/documentation/ternarytreap/latest/ternarytreap/TernaryTreap/collapseWhitespace.html">collapseWhitespace</a></li>
<li><a href="https://pub.dev/documentation/ternarytreap/latest/ternarytreap/TernaryTreap/lowerCollapse.html">lowerCollapse</a></li>
</ul>
<p>Create your own easily.</p>
<h2 id="attaching-string-data-to-retain-key-input-mapping">Attaching String Data to Retain Key-&gt;Input Mapping</h2>
<p><code>KeyMapping</code> functions may represent an n to 1 relation from input strings to keys.</p>
<p>When a <code>KeyMapping</code> such as <code>lowercase</code> maps multiple inputs to the same key the original input strings are lost.</p>
<p>In the example below this results in input strings 'CAT' and 'Cat' being lost.</p>
<pre class="language-dart"><code class="language-dart">final TernaryTreap&lt;String&gt; ternaryTreap2 =
      TernaryTreap&lt;String&gt;(keyMapping: TernaryTreap.lowercase)
        ..add('cat')
        ..add('Cat')
        ..add('CAT');

  print(ternaryTreap2.valuesByKeyPrefix('ca').flatten);
</code></pre>
<pre class="language-shell"><code class="language-shell">(cat)
</code></pre>
<p>To retain the original string you may attach it as data during insertion.</p>
<p>These strings may now be recovered during subsequent queries.</p>
<pre class="language-dart"><code class="language-dart">import 'package:ternarytreap/ternarytreap.dart';

void main(List&lt;String&gt; args) {
  final TernaryTreap&lt;String&gt; ternaryTreap =
      TernaryTreap&lt;String&gt;(keyMapping: TernaryTreap.lowercase)
    ..add('cat', 'cat')
    ..add('Cat', 'Cat')
    ..add('CAT', 'CAT')
    ..add('CanaRy', 'CanaRy')
    ..add('CANARY', 'CANARY');
}
</code></pre>
<pre class="language-dart"><code class="language-dart">print(ternaryTreap.keys);
</code></pre>
<pre class="language-shell"><code class="language-shell">(canary, cat)
</code></pre>
<pre class="language-dart"><code class="language-dart">print(ternaryTreap.keysByPrefix('ca'));
</code></pre>
<pre class="language-shell"><code class="language-shell">(canary, cat)
</code></pre>
<pre class="language-dart"><code class="language-dart">print(ternaryTreap.values.flatten);
</code></pre>
<pre class="language-shell"><code class="language-shell">(canary, CanaRy, CANARY, cat, Cat, CAT)
</code></pre>
<pre class="language-dart"><code class="language-dart">print(ternaryTreap.valuesByKeyPrefix('cat').flatten);
</code></pre>
<pre class="language-shell"><code class="language-shell">(cat, Cat, CAT)
</code></pre>
<pre class="language-dart"><code class="language-dart">print(ternaryTreap.toString());
</code></pre>
<pre class="language-shell"><code class="language-shell">canary
canary
CanaRy
CANARY
cat
cat
Cat
CAT
</code></pre>
<h2 id="attaching-complex-data-types">Attaching Complex data Types</h2>
<p>Sometimes it is useful to associate input strings with more complex datatypes.</p>
<p>For example to store an 'Animal' with name, description and a timestamp the following datatype may suffice:</p>
<pre class="language-dart"><code class="language-dart">import 'package:ternarytreap/ternarytreap.dart';

// An example of a data object, takes a name and description,
// and adds a timestamp.
class Animal {
  Animal(this.name, this.description)
      : timestamp = DateTime.now().millisecondsSinceEpoch.toString();

  /// name - will be set to original input string pre KeyMapping
  final String name;

  final String description;

  final String timestamp;

  /// Return String value.
  ///
  /// @returns String repesenting object.
  @override
  String toString() =&gt; &lt;String, dynamic&gt;{
        'name': name,
        'description': description,
        'timestamp': timestamp,
      }.toString();
}

void main(List&lt;String&gt; args) {
  final TernaryTreap&lt;Animal&gt; ternaryTreap =
      TernaryTreap&lt;Animal&gt;(keyMapping: TernaryTreap.lowerCollapse)
        ..add('Cat', Animal('Cat', 'Purrs'))
        ..add('Canary', Animal('Canary', 'Yellow'))
        ..add('Dog', Animal('Dog', 'Friend'))
        ..add('Zebra', Animal('Zebra', 'Stripes'))
        ..add('CAT', Animal('CAT', 'Scan'));
</code></pre>
<pre class="language-dart"><code class="language-dart">print(ternaryTreap.keys);
</code></pre>
<pre class="language-shell"><code class="language-shell">(canary, cat, dog, zebra)
</code></pre>
<pre class="language-dart"><code class="language-dart">print(ternaryTreap.keysByPrefix('ca'));
</code></pre>
<pre class="language-shell"><code class="language-shell">(canary, cat)
</code></pre>
<pre class="language-dart"><code class="language-dart">print(ternaryTreap.values);
</code></pre>
<pre class="language-shell"><code class="language-shell">([{name: Canary, description: Yellow, timestamp: 1574730578753}], [{name: Cat, description: Purrs, timestamp: 1574730578735}, {name: CAT, description: Scan, timestamp: 1574730578754}], [{name: Dog, description: Friend, timestamp: 1574730578754}], [{name: Zebra, description: Stripes, timestamp: 1574730578754}])
</code></pre>
<pre class="language-dart"><code class="language-dart">print(ternaryTreap.valuesByKeyPrefix('ca'));
</code></pre>
<pre class="language-shell"><code class="language-shell">([{name: Canary, description: Yellow, timestamp: 1574730578753}], [{name: Cat, description: Purrs, timestamp: 1574730578735}, {name: CAT, description: Scan, timestamp: 1574730578754}])
</code></pre>
<pre class="language-dart"><code class="language-dart">print(ternaryTreap.toString());
</code></pre>
<pre class="language-shell"><code class="language-shell">canary
{name: Canary, description: Yellow, timestamp: 1574730578753}
cat
{name: Cat, description: Purrs, timestamp: 1574730578735}
{name: CAT, description: Scan, timestamp: 1574730578754}
dog
{name: Dog, description: Friend, timestamp: 1574730578754}
zebra
{name: Zebra, description: Stripes, timestamp: 1574730578754}
</code></pre>
<h2 id="features-and-bugs">Features and bugs</h2>
<p>Please file feature requests and bugs at the <a href="https://github.com/derbec/ternarytreap/issues">issue tracker</a>.</p>
      </section>
      
        <section class="summary">
            <h2>Libraries</h2>
          <dl>
            <dt id="ternarytreap">
              <span class="name"><a href="ternarytreap/ternarytreap-library.html">ternarytreap</a></span>             
            </dt>
            <dd>
              Self balancing prefix search trie. Use for: <a href="ternarytreap/ternarytreap-library.html">[...]</a>
            </dd>          </dl>
        </section>

  </div> <!-- /.main-content -->

  <div id="dartdoc-sidebar-right" class="col-xs-6 col-sm-6 col-md-2 sidebar sidebar-offcanvas-right">
  </div>

</main>

<footer>
  <span class="no-break">
    ternarytreap
      1.0.4
  </span>

  <!-- footer-text placeholder -->
</footer>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<script src="static-assets/typeahead.bundle.min.js"></script>
<script src="static-assets/highlight.pack.js"></script>
<script src="static-assets/URI.js"></script>
<script src="static-assets/script.js"></script>
<!-- footer placeholder -->

</body>

</html>
